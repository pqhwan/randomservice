<!DOCTYPE html>
<html>
	<head>
		<title>swig</title>
		
		<!-- Bootstrap CSS here -->

		<link href="mani-css/bootstrap.css" rel="stylesheet" type="text/css" />
		<link href="css/bootstrap-theme.css" rel="stylesheet" type="text/css" />
		<link href="mani-css/bootstrap-responsive.min.css" rel="stylesheet" type="text/css" />
		
    <!-- Custom CSS here -->
    <link href="css/index_styles.css" rel="stylesheet">
    <link href="css/custom.css" rel="stylesheet" />
    	
		<!-- Js here -->
		<script src="js/jquery.js"></script>
		<script src="js/bootstrap.js"> </script>
		 
		 <!-- custom js -->
		<script src="js/jquery-1.10.2.js" type="text/javascript"> </script>
		<script src="mani-js/custom.js" type="text/javascript"> </script>
	 	<script src="js/jquery-2.1.0.js"></script>
		
		  
	</head>

	<body>

		<header>
			<div class="container">
				<div class="navbar navbar-static-top" style="margin: -1px -1px 0;">
			   	<div class="navbar-inner">
			     <div class="container" style="width: auto; padding: 0 20px;">
			      <a class="brand" href="#">Swiglee</a>
			      <ul class="nav">
			     	 <li class="active"><a href="#">Home</a></li>
			     	 <li><a href="#">About Us</a></li>
			       <li><a href="#">Contact Us</a></li>
			      </ul>
			      <ul>
			       <button type="button" class="btn pull-right">Login</button>
			       <button type="button" class="btn pull-right">Register</button>
			       </ul>
	    		</div>
		     </div>
		   	</div>

		</div>
			
		</header>


		<!-- End of Header -->
		
	
		
		<div class="container" id="driversList">	</div>

		<footer>
			<div class="container custom-footer">
				@Swiggly : Mani Askari | Peter Jason
			</div>
		</footer>
		
		<!------------- Templates here ---------------------------->
		<script type="text/template" id="driver-list-template">
			
			
				<div class="col-lg-3"> </div>
				<div class="col-lg-6" >	
					<div class="row custom-border" >
						<div class="col-lg-2" >
							<img src="<%- driver_pic %>" width="50" height="50" />
						</div>
						<div class="col-lg-6">
							<b><%- driver_name %> [<%= driver_distance_mi %> miles]</b> <br />
							Rating : <%= driverRating %>
						</div>
						<div class="col-lg-2 pull-right">
							<button class="btn btn-large btn-block" type="button">Select</button>
						</div>
					</div>
				</div>			
				<div class="col-lg-3"> </div>
		
			
		 </script>
		<script src="assets/jquery.js"></script>
		<script src="assets/underscore.js"></script>
		<script src="assets/backbone.js"></script>
		
		<script src="js/models/driver-list-item.js"></script>
		<script src="js/collections/driver-list.js"></script>
		<script src="js/views/driver-list-view.js"></script>
		<script src="js/views/app-view.js"></script>
		<!--<script src="js/app.js"></script>-->
		
	</body>
	
	<!-- To enable the slider, uncommet this shit -->
	<!--
	<script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
	<script src="js/slider.js"></script>
	-->
	

<script>


//TODO use validate.js


function email_valid(input_name, err_name){
	var mailrgx = /.+@+\..+/i;
	var $email = $(input_name);
	var $email_err = $(err_name);

	if(!$email.val()){
		$email_err.html('Required Field');
		$email_err.show();
		return false;
	} else if( !mailrgx.test($email.val()) ){
		$email_err.html('Invalid email address');
		$email_err.show();
		return false;
	} else {
		$email_err.hide();
		return false;
	}

	return true;
}


$('#signup_form').submit(function(event){
	//hold on don't submit yet
	if(event.preventDefault) event.preventDefault();

	var contn = true;
	email_valid('#email','#email_err');

	//pw validation
	var $password = $('#pwd');
	var $rpassword = $('#rpwd');
	var $pwd_err = $('#pwd_err');
	if( !$password.val() || !$rpassword.val() ){
		$pwd_err.html('Required-filed');
		$pwd_err.show();
		contn = 0;
	} else if($password.val() != $rpassword.val()){
		$pwd_err.html('Password does not match');
		$pwd_err.show();
		contn = 0;
	} else if($password.val().length < 8) {
		$pwd_err.html('Password must be at least 8 characters');
		$pwd_err.show();
		contn = 0;
	} else { $pwd_err.hide();}

	//post
	if(contn) $(this).off('submit').submit();
});

</script>

</html>
